# =====================================================
# CONFIGURAÇÕES COMUNS (todos os perfis)
# =====================================================

# HTTP Server
quarkus.http.port=8080
quarkus.http.host=0.0.0.0

# Logging
quarkus.log.level=INFO
quarkus.log.category."com.feedback".level=DEBUG
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n

# =====================================================
# PERFIL DEV - PostgreSQL Local
# =====================================================

# Datasource H2 (em memória - muito mais simples para desenvolvimento!)
%dev.quarkus.datasource.db-kind=h2
%dev.quarkus.datasource.jdbc.url=jdbc:h2:mem:feedbacks;DB_CLOSE_DELAY=-1
%dev.quarkus.datasource.username=sa
%dev.quarkus.datasource.password=

# Hibernate
%dev.quarkus.hibernate-orm.database.generation=drop-and-create
%dev.quarkus.hibernate-orm.log.sql=true
%dev.quarkus.hibernate-orm.sql-load-script=no-file

# Console H2 (acesse em http://localhost:8080/q/h2-console)
%dev.quarkus.h2.console.enabled=true

# Desabilitar serviços AWS em dev
%dev.quarkus.devservices.enabled=false

# =====================================================
# PERFIL TEST - H2 em memória
# =====================================================

%test.quarkus.datasource.db-kind=h2
%test.quarkus.datasource.username=sa
%test.quarkus.datasource.password=
%test.quarkus.datasource.jdbc.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1
%test.quarkus.hibernate-orm.database.generation=drop-and-create
%test.quarkus.hibernate-orm.log.sql=true

# =====================================================
# PERFIL PROD - DynamoDB AWS
# =====================================================

# AWS Configuration
%prod.aws.region=${AWS_REGION:us-east-1}
%prod.dynamodb.table.name=${DYNAMODB_TABLE_NAME:feedbacks}
%prod.sns.topic.arn=${SNS_TOPIC_ARN:}

# Desabilitar Hibernate em produção (usa DynamoDB)
%prod.quarkus.hibernate-orm.enabled=false
%prod.quarkus.datasource.devservices.enabled=false